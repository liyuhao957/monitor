default_notification:
  enabled: true
  telegram:
    enabled: false
    bot_token: YOUR_TELEGRAM_BOT_TOKEN
    chat_id: YOUR_TELEGRAM_CHAT_ID
  feishu:
    enabled: true
    webhook: https://open.feishu.cn/open-apis/bot/v2/hook/2e9f09a8-4cec-4475-a6a8-4da61c4a874c
tasks:
- name: V2EX-热榜
  url: https://www.v2ex.com/?tab=hot
  frequency: 3m
  rule: css:span.item_title > a
  enabled: false
  screenshot: false
  notification_title: v2ex的
  notification:
    enabled: true
    telegram:
      enabled: false
      bot_token: ''
      chat_id: ''
    feishu:
      enabled: true
      webhook: https://open.feishu.cn/open-apis/bot/v2/hook/1502988b-7bd9-4457-aab8-4386901eeb4f
  notification_template: default
  storage_strategy: file
  ai_analysis_enabled: false
  ai_description: null
  ai_extraction_rules: null
- name: 测试
  url: https://www.time163.com/
  frequency: 1m
  rule: css:#beijing-time
  enabled: false
  screenshot: true
  notification_title: null
  notification: null
  notification_template: default
  storage_strategy: file
  ai_analysis_enabled: false
  ai_description: null
  ai_extraction_rules: null
- name: 华为快应用加载器监控
  url: https://developer.huawei.com/consumer/cn/doc/Tools-Library/quickapp-ide-download-0000001101172926
  frequency: 1m
  rule: css:#ZH-CN_TOPIC_0000001101172926__li16222518142
  enabled: false
  screenshot: true
  notification_title: 华为
  notification: null
  notification_template: default
  storage_strategy: file
  ai_analysis_enabled: true
  ai_description: 我只想监控华为快应用加载器的最新版本更新。当最新版本号发生变化时（如从V15.1.1.301变为V15.2.1.305），请生成一个表格格式的通知，包含：版本号、规范版本、发现时间、下载地址。请忽略历史版本列表的变化，只关注最新版本的变化。通知格式要求：使用表格、包含emoji、简洁美观。
  ai_extraction_rules: null
- name: 荣耀调试器
  url: https://developer.honor.com/cn/doc/guides/101380
  frequency: 1m
  rule: xpath://*[@id="doc-content-text"]/div[2]/table/tbody/tr[2]
  enabled: true
  screenshot: true
  notification_title: 荣耀
  notification: null
  notification_template: '🚨 **检测到版本更新！**


    | 字段 | 新版本 |

    | --- | --- |

    | 荣耀快应用引擎 | `{{ quickapp_engine_ver }}` |

    | 荣耀引擎 | `{{ honor_engine_ver }}` |

    | 联盟平台 | `{{ union_platform_ver }}` |

    | 调试器版本 | `{{ new_debugger_version }}` |

    | 下载地址 | [点击下载]({{ download_url }}) |


    📋 **版本功能**

    {% for sentence in new_features.split(''。'') %}{% if sentence.strip() %}• {{ sentence.strip()
    }}。{% endif %}{% endfor %}


    {% if version_changed %}🆚 历史调试器版本：`{{ old_debugger_version }}`

    {% endif %}

    {% if screenshot_url %}📸 [查看截图]({{ screenshot_url }})

    {% endif %}'
  storage_strategy: file
  ai_analysis_enabled: true
  ai_description: 我只想监控荣耀加载器的最新版本更新。当最新版本号发生变化时（如从V15.1.1.301变为V15.2.1.305），请生成一个表格格式的通知，包含：荣耀快应用引擎版本号、荣耀引擎版本号、快应用联盟平台版本号、下载地址、调试器版本号、版本功能。通知格式要求：使用表格、包含emoji、简洁美观、版本功能需要排版。
  ai_extraction_rules:
    quickapp_engine_ver: 从 new_summary 开头提取快应用引擎版本号：^\s*V?(\d+\.\d+\.\d+)
    honor_engine_ver: 从 new_summary 中提取荣耀引擎版本号（位于快应用引擎版本号之后的数字）：^\s*V?\d+\.\d+\.\d+\s+(\d+)
    union_platform_ver: 从 new_summary 中提取联盟平台版本号（第三段数字）：^\s*V?\d+\.\d+\.\d+\s+\d+\s+(\d+)
    download_url: 从 new_summary 中提取 APK 下载链接：href="([^"]+\.apk)"
    new_debugger_version: 从 new_summary 中提取调试器版本号（位于 </a> 之后）：</a>\s*V?(\d+\.\d+\.\d+\.\d+)
    new_features: 从 new_summary 中提取调试器版本号之后的全部内容作为功能描述：\d+\.\d+\.\d+\.\d+\s*(.*)
    old_debugger_version: 从 old_summary 中提取调试器版本号：</a>\s*V?(\d+\.\d+\.\d+\.\d+)
    version_changed: 当 new_debugger_version != old_debugger_version 时返回 true，否则 false
notification_presets:
  default: "**\U0001F4C8 网页内容变更告警**\n**- 任务名称**: `{{ task_name }}` **- 监控页面**: [点击访问]({{\
    \ url }})\n--- \n**\U0001F4DD 变更内容摘要**:\n**【变更前】** > {{ old_summary }}\n**【变更后】**\
    \ > {{ new_summary }} {% if screenshot_url %} ---\n**\U0001F5BC️ [查看快照]({{ screenshot_url\
    \ }})** {% endif %}"
  simple: '[监控] {{ task_name }} 发生内容变更，请及时查看。链接: {{ url }}'
  card: '**📈 {{ task_name }} - 内容变更**

    > {{ new_summary }}

    --- - **监控页面**: [点击访问]({{ url }}) {% if screenshot_url %} - **页面快照**: [点击查看]({{
    screenshot_url }}) {% endif %}'
