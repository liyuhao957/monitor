api_settings:
  deepseek_api_key: sk-33c4b6f409f149cf89139fb4c4900439
  deepseek_base_url: https://api.deepseek.com
  deepseek_model: deepseek-chat
  openai_api_key: sk-6KwYGpsonYqWBAxrg9hEyjfEL7Bpak478TjuxCA7gf52GdvGVDfQ
  openai_base_url: https://api.oaipro.com/v1
  openai_model: claude-sonnet-4-20250514
  ai_provider: openai
default_notification:
  enabled: true
  telegram:
    enabled: false
    bot_token: null
    chat_id: null
  feishu:
    enabled: true
    webhook: https://open.feishu.cn/open-apis/bot/v2/hook/2e9f09a8-4cec-4475-a6a8-4da61c4a874c
tasks:
- name: åä¸ºå¿«åº”ç”¨åŠ è½½å™¨ç›‘æ§
  url: https://developer.huawei.com/consumer/cn/doc/Tools-Library/quickapp-ide-download-0000001101172926
  frequency: 10m
  rule: xpath://*[@id="ZH-CN_TOPIC_0000001101172926__li16222518142"]
  enabled: true
  screenshot: false
  notification_title: åä¸º
  notification: null
  storage_strategy: file
  ai_analysis_enabled: true
  ai_description: æˆ‘æƒ³ç›‘æ§åä¸ºå¿«åº”ç”¨åŠ è½½å™¨çš„æœ€æ–°ç‰ˆæœ¬æ›´æ–°,å½“æœ€æ–°ç‰ˆæœ¬å·å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆå¦‚ä»V15.1.1.301å˜ä¸ºV15.2.1.305ï¼‰ï¼Œè¯·ç”Ÿæˆä¸€ä¸ªåˆé€‚çš„é£ä¹¦é€šçŸ¥ï¼ŒåŒ…å«ï¼šç‰ˆæœ¬å·ï¼ˆV15.1.1.301ç±»ä¼¼è¿™æ ·ï¼‰ã€è§„èŒƒç‰ˆæœ¬ï¼ˆç±»ä¼¼1121ï¼‰ã€å‘ç°æ—¶é—´ã€ä¸‹è½½åœ°å€ã€‚é€šçŸ¥æ ¼å¼è¦æ±‚ï¼šåŒ…å«emojiã€ç®€æ´ç¾è§‚ï¼Œç»“å°¾å¸¦ä¸ŠğŸ’¡ æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ
  ai_extraction_rules:
    version: regex:HwQuickApp_Loader_Phone_(V\d+\.\d+\.\d+\.\d+)\.apk
    spec_version: regex:è°ƒè¯•è¿è¡Œåœ¨æ‰‹æœº/Padçš„å¿«åº”ç”¨çš„åŠ è½½å™¨å®‰è£…åŒ…ï¼š.*?ï¼ˆæ”¯æŒ(\d{4})è§„èŒƒçš„è°ƒè¯•ï¼‰
    download_url: regex:è°ƒè¯•è¿è¡Œåœ¨æ‰‹æœº/Padçš„å¿«åº”ç”¨çš„åŠ è½½å™¨å®‰è£…åŒ…ï¼š<a href="([^"]+)"
  ai_formatter_code: "def format_notification(extracted_data: dict, task_info: dict) -> str:\n    \"\"\"\n    æ ¼å¼åŒ–åä¸ºå¿«åº”ç”¨åŠ è½½å™¨ç‰ˆæœ¬æ›´æ–°é€šçŸ¥\n    Args:\n    extracted_data: æå–çš„æ•°æ®å­—å…¸\n    task_info: ä»»åŠ¡ä¿¡æ¯ (name, url, current_timeç­‰)\n    Returns:\n    str: æ ¼å¼åŒ–åçš„é€šçŸ¥å†…å®¹\n    \"\"\"\n    try:\n        # è·å–æå–çš„æ•°æ®\n        version = extracted_data.get('version', 'æœªçŸ¥ç‰ˆæœ¬')\n        spec_version = extracted_data.get('spec_version', 'æœªçŸ¥è§„èŒƒ')\n        download_url = extracted_data.get('download_url', '')\n        current_time = task_info.get('current_time', 'æœªçŸ¥æ—¶é—´')\n\n        # æ„å»ºé€šçŸ¥å†…å®¹\n        title = \"\U0001F680 åä¸ºå¿«åº”ç”¨åŠ è½½å™¨ç‰ˆæœ¬æ›´æ–°\"\n\n        content_parts = [\n            title,\n            \"\",\n            f\"\U0001F4E6 **æœ€æ–°ç‰ˆæœ¬**: {version}\",\n            f\"\U0001F527 **è§„èŒƒç‰ˆæœ¬**: {spec_version}\",\n            f\"â° **å‘ç°æ—¶é—´**: {current_time}\",\n        ]\n\n        # æ·»åŠ ä¸‹è½½é“¾æ¥\n        if download_url and download_url != 'æœªçŸ¥':\n            content_parts.append(f\"\U0001F4E5 **ä¸‹è½½åœ°å€**: [ç‚¹å‡»ä¸‹è½½]({download_url})\")\n        else:\n            content_parts.append(\"\U0001F4E5 **ä¸‹è½½åœ°å€**: æš‚æ— å¯ç”¨é“¾æ¥\")\n\n        content_parts.extend([\n            \"\",\n            \"---\",\n            \"\U0001F4A1 æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ\"\n        ])\n\n        return \"\\n\".join(content_parts)\n\n    except Exception as e:\n        return f\"\U0001F680 åä¸ºå¿«åº”ç”¨åŠ è½½å™¨ç‰ˆæœ¬æ›´æ–°\\n\\nâŒ æ ¼å¼åŒ–å¤±è´¥: {str(e)}\\n\\n\U0001F4A1 æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ\""
- name: è£è€€è°ƒè¯•å™¨
  url: https://developer.honor.com/cn/doc/guides/101380
  frequency: 10m
  rule: xpath://*[@id="doc-content-text"]/div[2]/table/tbody/tr[2]
  enabled: true
  screenshot: false
  notification_title: è£è€€
  notification: null
  storage_strategy: file
  ai_analysis_enabled: true
  ai_description: æˆ‘åªæƒ³ç›‘æ§è£è€€åŠ è½½å™¨çš„æœ€æ–°ç‰ˆæœ¬æ›´æ–°ã€‚å½“æœ€æ–°ç‰ˆæœ¬å·å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆå¦‚ä»V15.1.1.301å˜ä¸ºV15.2.1.305ï¼‰ï¼Œè¯·ç”Ÿæˆä¸€ä¸ªé€‚ç”¨äºé£ä¹¦çš„é€šçŸ¥æ ¼å¼ï¼ŒåŒ…å«ï¼šè£è€€å¿«åº”ç”¨å¼•æ“ç‰ˆæœ¬å·ã€è£è€€å¼•æ“ç‰ˆæœ¬å·ã€å¿«åº”ç”¨è”ç›Ÿå¹³å°ç‰ˆæœ¬å·ã€ä¸‹è½½åœ°å€ã€è°ƒè¯•å™¨ç‰ˆæœ¬å·ã€ç‰ˆæœ¬åŠŸèƒ½ã€‚é€šçŸ¥æ ¼å¼è¦æ±‚ï¼šåŒ…å«emojiã€ç®€æ´ç¾è§‚ã€ç‰ˆæœ¬åŠŸèƒ½éœ€è¦æ’ç‰ˆã€ç»“å°¾å¸¦ä¸ŠğŸ’¡ æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆã€‚
  ai_extraction_rules:
    quick_app_engine_version: regex:^(\d+\.\d+\.\d+\.\d+)
    honor_engine_version: regex:^\d+\.\d+\.\d+\.\d+\s+(\d+)
    alliance_platform_version: regex:^\d+\.\d+\.\d+\.\d+\s+\d+\s+(\d+)
    download_url: regex:href="([^"]+)"
    debugger_version: regex:</a>\s+(\d+\.\d+\.\d+\.\d+)
    version_features: regex:</a>\s+\d+\.\d+\.\d+\.\d+\s+(.+)$
  ai_formatter_code: "def format_notification(extracted_data: dict, task_info: dict) -> str:\n    \"\"\"\n    æ ¼å¼åŒ–è£è€€è°ƒè¯•å™¨ç‰ˆæœ¬æ›´æ–°é€šçŸ¥\n    Args:\n    extracted_data: æå–çš„æ•°æ®å­—å…¸\n    task_info: ä»»åŠ¡ä¿¡æ¯ (name, url, current_timeç­‰)\n    Returns:\n    str: æ ¼å¼åŒ–åçš„é€šçŸ¥å†…å®¹\n    \"\"\"\n    try:\n        # è·å–æå–çš„æ•°æ®\n        quick_app_engine_version = extracted_data.get('quick_app_engine_version', 'æœªçŸ¥')\n        honor_engine_version = extracted_data.get('honor_engine_version', 'æœªçŸ¥')\n        alliance_platform_version = extracted_data.get('alliance_platform_version', 'æœªçŸ¥')\n        download_url = extracted_data.get('download_url', '')\n        debugger_version = extracted_data.get('debugger_version', 'æœªçŸ¥')\n        version_features = extracted_data.get('version_features', 'æš‚æ— åŠŸèƒ½è¯´æ˜')\n\n        # è·å–ä»»åŠ¡ä¿¡æ¯\n        task_name = task_info.get('name', 'è£è€€è°ƒè¯•å™¨')\n        current_time = task_info.get('current_time', '')\n\n        # æ„å»ºé€šçŸ¥å†…å®¹\n        notification = f\"\U0001F527 **{task_name}ç‰ˆæœ¬æ›´æ–°**\\n\\n\"\n        notification += f\"â° **æ›´æ–°æ—¶é—´**: {current_time}\\n\\n\"\n        notification += f\"\U0001F4F1 **è£è€€å¿«åº”ç”¨å¼•æ“ç‰ˆæœ¬**: `{quick_app_engine_version}`\\n\"\n        notification += f\"âš™ï¸ **è£è€€å¼•æ“ç‰ˆæœ¬**: `{honor_engine_version}`\\n\"\n        notification += f\"\U0001F310 **å¿«åº”ç”¨è”ç›Ÿå¹³å°ç‰ˆæœ¬**: `{alliance_platform_version}`\\n\"\n        notification += f\"\U0001F41B **è°ƒè¯•å™¨ç‰ˆæœ¬**: `{debugger_version}`\\n\\n\"\n\n        # æ·»åŠ ä¸‹è½½é“¾æ¥\n        if download_url:\n            notification += f\"\U0001F4E5 **ä¸‹è½½åœ°å€**: [ç‚¹å‡»ä¸‹è½½]({download_url})\\n\\n\"\n\n        # æ·»åŠ ç‰ˆæœ¬åŠŸèƒ½\n        notification += f\"âœ¨ **ç‰ˆæœ¬åŠŸèƒ½**:\\n\"\n        if version_features and version_features != 'æš‚æ— åŠŸèƒ½è¯´æ˜':\n            # å¤„ç†ç‰ˆæœ¬åŠŸèƒ½æ–‡æœ¬,æ·»åŠ é€‚å½“çš„æ ¼å¼\n            features_text = version_features.strip()\n            if features_text:\n                notification += f\"â€¢ {features_text}\\n\\n\"\n            else:\n                notification += f\"â€¢ æš‚æ— åŠŸèƒ½è¯´æ˜\\n\\n\"\n        else:\n            notification += f\"â€¢ æš‚æ— åŠŸèƒ½è¯´æ˜\\n\\n\"\n\n        notification += f\"\U0001F4A1 æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ\"\n\n        return notification\n\n    except Exception as e:\n        return f\"\U0001F527 **è£è€€è°ƒè¯•å™¨ç‰ˆæœ¬æ›´æ–°é€šçŸ¥**\\n\\nâŒ æ ¼å¼åŒ–å¤±è´¥: {str(e)}\\n\\n\U0001F4A1 æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ\""
- name: OPPO
  url: https://ie-activity-cn.heytapimage.com/static/minigame/CN/docs/index.html#/download/index
  frequency: 10m
  rule: xpath://*[@id="main"]/ul[1]
  enabled: true
  screenshot: false
  notification_title: OPPOå¿«æ¸¸æˆ
  notification: null
  storage_strategy: file
  ai_analysis_enabled: true
  ai_description: æˆ‘åªæƒ³ç›‘æ§OPPOå°æ¸¸æˆè°ƒè¯•å™¨çš„æœ€æ–°ç‰ˆæœ¬æ›´æ–°ã€‚V9.8.0è¿™æ ·çš„æ˜¯å°ç‰ˆæœ¬å·ï¼Œ1155è¿™æ ·çš„æ˜¯å¤§ç‰ˆæœ¬å·ï¼Œå½“æœ€æ–°ç‰ˆæœ¬å·å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆå¦‚ä»OPPO å°æ¸¸æˆè°ƒè¯•å™¨ V9.8.0å˜ä¸ºOPPO å°æ¸¸æˆè°ƒè¯•å™¨ V9.0.0 å’Œ 1155å˜ä¸º1166ï¼‰ï¼Œè¯·ç”Ÿæˆä¸€ä¸ªé€‚ç”¨é£ä¹¦çš„é€šçŸ¥ï¼ŒåŒ…å«ï¼šOPPOå¼•æ“å¤§ç‰ˆæœ¬å·ã€OPPOå¼•æ“å°ç‰ˆæœ¬å·ã€ä¸‹è½½åœ°å€ã€‚é€šçŸ¥æ ¼å¼è¦æ±‚ï¼šåŒ…å«emojiã€ç®€æ´ç¾è§‚ã€ç»“å°¾å¸¦ä¸ŠğŸ’¡ æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆã€‚
  ai_extraction_rules:
    major_version: regex:^(\d+)\s+<a
    minor_version: regex:OPPO å°æ¸¸æˆè°ƒè¯•å™¨ (V[\d.]+)
    download_url: regex:href="([^"]+)"
  ai_formatter_code: "def format_notification(extracted_data: dict, task_info: dict) -> str:\n    \"\"\"\n    æ ¼å¼åŒ–OPPOå°æ¸¸æˆè°ƒè¯•å™¨ç‰ˆæœ¬æ›´æ–°é€šçŸ¥\n    Args:\n    extracted_data: æå–çš„æ•°æ®å­—å…¸\n    task_info: ä»»åŠ¡ä¿¡æ¯ (name, url, current_timeç­‰)\n    Returns:\n    str: æ ¼å¼åŒ–åçš„é€šçŸ¥å†…å®¹\n    \"\"\"\n    try:\n        major_version = extracted_data.get('major_version', 'æœªçŸ¥')\n        minor_version = extracted_data.get('minor_version', 'æœªçŸ¥')\n        download_url = extracted_data.get('download_url', '')\n\n        current_time = task_info.get('current_time', 'æœªçŸ¥æ—¶é—´')\n\n        notification = f\"\U0001F3AE **OPPOå°æ¸¸æˆè°ƒè¯•å™¨ç‰ˆæœ¬æ›´æ–°**\\n\\n\"\n        notification += f\"â° **æ›´æ–°æ—¶é—´**: {current_time}\\n\\n\"\n        notification += f\"\U0001F522 **å¤§ç‰ˆæœ¬å·**: {major_version}\\n\"\n        notification += f\"\U0001F4F1 **å°ç‰ˆæœ¬å·**: {minor_version}\\n\\n\"\n\n        if download_url:\n            notification += f\"\U0001F4E5 **ä¸‹è½½åœ°å€**: [ç‚¹å‡»ä¸‹è½½]({download_url})\\n\\n\"\n        else:\n            notification += f\"\U0001F4E5 **ä¸‹è½½åœ°å€**: æš‚æ— å¯ç”¨é“¾æ¥\\n\\n\"\n\n        notification += f\"\U0001F517 **ç›‘æ§é¡µé¢**: [OPPOå¼€å‘è€…æ–‡æ¡£]({task_info.get('url', '')})\\n\\n\"\n        notification += \"\U0001F4A1 æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ\"\n\n        return notification\n\n    except Exception as e:\n        return f\"\U0001F6AB æ ¼å¼åŒ–é€šçŸ¥å¤±è´¥: {str(e)}\\n\\n\U0001F4A1 æ­¤é€šçŸ¥ç”±ç‰ˆæœ¬ç›‘æ§ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ\""
- name: åä¸ºå¿«åº”ç”¨å¼•æ“æ›´æ–°è¯´æ˜
  url: https://developer.huawei.com/consumer/cn/doc/quickApp-Guides/quickapp-version-updates-0000001079803874
  frequency: 1m
  rule: xpath://*[@id="body0000001079803874"]
  enabled: false
  screenshot: false
  notification_title: åä¸ºå¿«åº”ç”¨å¼•æ“æ›´æ–°è¯´æ˜
  notification: null
  storage_strategy: file
  ai_analysis_enabled: true
  ai_description: "ç›‘æ§åä¸ºå¿«åº”ç”¨å¼•æ“çš„ç‰ˆæœ¬æ›´æ–°è¯´æ˜ï¼Œé‡ç‚¹å…³æ³¨ï¼š\n\n1. **ç‰ˆæœ¬ä¿¡æ¯æå–**ï¼š\n   - ç‰ˆæœ¬å·ï¼ˆå¦‚ï¼š1121ï¼‰\n   - æ›´æ–°æ—¥æœŸï¼ˆå¦‚ï¼š2025-6-6ï¼‰\n\n2. **æ›´æ–°å†…å®¹ç»“æ„åŒ–**ï¼š\n   - å˜æ›´é¡¹ç›®åç§°ï¼ˆå¦‚ï¼šå®‰è£…å¼€å‘å·¥å…·ã€åä¸ºå¿«åº”ç”¨åŠ è½½å™¨ä½¿ç”¨æŒ‡å¯¼ï¼‰\n   - å…·ä½“å˜æ›´æè¿°\n   - ç›¸å…³æ–‡æ¡£é“¾æ¥\n\n3. **æ ¼å¼åŒ–è¦æ±‚**ï¼š\n   - å»é™¤é¡µé¢ç»“æ„æ ‡è¯†ï¼ˆå¦‚\"æŒ‡å— å˜æ›´ç‚¹ è¯´æ˜\"ç­‰å¯¼èˆªæ–‡æœ¬ï¼‰\n   - å°†å˜æ›´é¡¹ç›®åç§°æ ¼å¼åŒ–ä¸ºåŠ ç²—æ ‡é¢˜\n   - ä¸ºæ¯ä¸ªå˜æ›´é¡¹æ·»åŠ æ¸…æ™°çš„åˆ†éš”\n   - ä¿ç•™å¹¶ç¾åŒ–æ–‡æ¡£é“¾æ¥ï¼Œæ·»åŠ å›¾æ ‡æ ‡è¯†\n   - ç¡®ä¿é€šçŸ¥å†…å®¹ç®€æ´æ˜“è¯»ï¼Œé€‚åˆé£ä¹¦æ˜¾ç¤º\n\n4. **ç‰¹æ®Šå¤„ç†éœ€æ±‚**ï¼š\n   - å†…å®¹åŒ…å«HTMLé“¾æ¥æ ‡ç­¾ï¼Œéœ€è¦è½¬æ¢ä¸ºMarkdownæ ¼å¼\n   - æ–‡æœ¬ä¸­å¯èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦å’Œç©ºæ ¼ï¼Œéœ€è¦ç²¾ç¡®åŒ¹é…\n   - å¤æ‚çš„æ ¼å¼åŒ–é€»è¾‘å»ºè®®ä½¿ç”¨Pythonä»£ç å¤„ç†ï¼Œè€ŒéJinja2æ¨¡æ¿\n\n5. **é€šçŸ¥ç›®æ ‡**ï¼š\n   - åŠæ—¶é€šçŸ¥å¼€å‘å›¢é˜Ÿåä¸ºå¿«åº”ç”¨å¼•æ“çš„ç‰ˆæœ¬æ›´æ–°\n   - çªå‡ºæ˜¾ç¤ºé‡è¦çš„åŠŸèƒ½å˜æ›´å’Œå·¥å…·æ›´æ–°\n   - æä¾›ç›´æ¥çš„æ–‡æ¡£é“¾æ¥ä¾¿äºæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯"
  ai_extraction_rules:
    changes_section_html: regex:\d{4}ç‰ˆæœ¬æ›´æ–°è¯´æ˜ï¼ˆ\d{4}-\d{1,2}-\d{1,2}ï¼‰([\s\S]*?)(?=\n?\d{4}ç‰ˆæœ¬æ›´æ–°è¯´æ˜|$)
    update_date: regex:\d{4}ç‰ˆæœ¬æ›´æ–°è¯´æ˜ï¼ˆ(\d{4}-\d{1,2}-\d{1,2})ï¼‰
    version_number: regex:(\d{4})ç‰ˆæœ¬æ›´æ–°è¯´æ˜ï¼ˆ\d{4}-\d{1,2}-\d{1,2}ï¼‰
  ai_formatter_code: null
